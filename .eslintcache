[{"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\index.js":"1","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\App.js":"2","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\context\\AuthContext.js":"3","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\context\\AuthReducer.js":"4","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\pages\\home\\Home.jsx":"5","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\pages\\messenger\\Messenger.jsx":"6","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\pages\\login\\Login.jsx":"7","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\pages\\profile\\Profile.jsx":"8","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\pages\\register\\Register.jsx":"9","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\ApiCalls.js":"10","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\sidebar\\Sidebar.jsx":"11","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\conversations\\Conversation.jsx":"12","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\messages\\Message.jsx":"13","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\rightbar\\Rightbar.jsx":"14","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\chatOnline\\ChatOnline.jsx":"15","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\feed\\Feed.jsx":"16","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\topbar\\Topbar.jsx":"17","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\dummyData.js":"18","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\closeFriend\\CloseFriend.jsx":"19","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\online\\Online.jsx":"20","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\post\\Post.jsx":"21","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\share\\Share.jsx":"22","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\Axios.js":"23"},{"size":332,"mtime":1649445253109,"results":"24","hashOfConfig":"25"},{"size":1156,"mtime":1651506826773,"results":"26","hashOfConfig":"25"},{"size":778,"mtime":1651506729808,"results":"27","hashOfConfig":"25"},{"size":939,"mtime":1650238258582,"results":"28","hashOfConfig":"25"},{"size":490,"mtime":1651507228602,"results":"29","hashOfConfig":"25"},{"size":5489,"mtime":1651523037904,"results":"30","hashOfConfig":"25"},{"size":1923,"mtime":1651506841531,"results":"31","hashOfConfig":"25"},{"size":2043,"mtime":1651523748891,"results":"32","hashOfConfig":"25"},{"size":2367,"mtime":1651522912575,"results":"33","hashOfConfig":"25"},{"size":443,"mtime":1651523220513,"results":"34","hashOfConfig":"25"},{"size":2392,"mtime":1651506646115,"results":"35","hashOfConfig":"25"},{"size":974,"mtime":1651523199502,"results":"36","hashOfConfig":"25"},{"size":522,"mtime":1652036465190,"results":"37","hashOfConfig":"25"},{"size":4372,"mtime":1651526353408,"results":"38","hashOfConfig":"25"},{"size":1741,"mtime":1651522778186,"results":"39","hashOfConfig":"25"},{"size":1118,"mtime":1651522971626,"results":"40","hashOfConfig":"25"},{"size":1994,"mtime":1652036033280,"results":"41","hashOfConfig":"25"},{"size":2688,"mtime":1648745777675,"results":"42","hashOfConfig":"25"},{"size":369,"mtime":1651507109830,"results":"43","hashOfConfig":"25"},{"size":471,"mtime":1651507178036,"results":"44","hashOfConfig":"25"},{"size":2678,"mtime":1651530764989,"results":"45","hashOfConfig":"25"},{"size":3103,"mtime":1651523080009,"results":"46","hashOfConfig":"25"},{"size":220,"mtime":1651522392540,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"xfmijw",{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"50"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"50"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"50"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"50"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"50"},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"50"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"50"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"50"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"50"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"98","messages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"50"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"50"},{"filePath":"104","messages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\index.js",[],["106","107"],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\App.js",[],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\context\\AuthContext.js",[],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\context\\AuthReducer.js",[],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\pages\\home\\Home.jsx",[],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\pages\\messenger\\Messenger.jsx",["108","109","110"],"import React,{ useContext, useState, useEffect, useRef } from \"react\";\r\nimport \"./messenger.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Conversation from \"./../../components/conversations/Conversation\";\r\nimport Message from \"./../../components/messages/Message\";\r\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\r\nimport { AuthContext } from \"./../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\nimport instance from '../../Axios';\r\nexport default function Messenger() {\r\n const API =process.env.REACT_APP_APIS_SOCIAL;\r\n\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessages, setNewMessages] = useState(\"\");\r\n  const [arrivalMessages, setArrivalMessages] = useState(null);\r\n  const [onlineUsers, setOnlineUsers] = useState(null);\r\n\r\n  const socket = useRef();\r\n  const { user } = useContext(AuthContext);\r\n  const scrollRef = useRef();\r\n\r\n  useEffect(() => {\r\n    socket.current = io(\"https://api-socket-social.herokuapp.com/\");\r\n    socket.current.on(\"getMessage\", (data) => {\r\n      setArrivalMessages({\r\n        sender:data.senderId\r\n        ,text:data.text,\r\n        createdAt:Date.now(),\r\n      })\r\n    });\r\n  }, []);\r\n\r\n  useEffect(()=>{\r\n    arrivalMessages&&currentChat?.members.includes(arrivalMessages.sender)&&\r\n    setMessages((prev)=>[...prev,arrivalMessages])\r\n  },[arrivalMessages,currentChat])\r\n  useEffect(() => {\r\n    socket.current.emit(\"addUser\", user._id);\r\n    socket.current.on(\"getUsers\", (users) => {\r\n      setOnlineUsers(user.followings.filter((f)=>{users.some((u)=>u.userId===f)}));\r\n    });\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    const getConversations = async () => {\r\n      try {\r\n        const res = await instance.get(\"/conversations/\" + user._id);\r\n        setConversations(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, [user._id]);\r\n\r\n  useEffect(() => {\r\n    const getAllMessages = async () => {\r\n      try {\r\n        const res = await instance.get(\"/messages/\" + currentChat?._id);\r\n        setMessages(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getAllMessages();\r\n  }, [currentChat]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const message = {\r\n      sender: user._id,\r\n      text: newMessages,\r\n      conversationId: currentChat?._id,\r\n    };\r\n\r\n    const receiverId = currentChat.members.find(\r\n      (member) => member !== user._id\r\n    );\r\n    socket.current.emit(\"sendMessage\", {\r\n      senderId: user._id,\r\n      receiverId,\r\n      text: newMessages,\r\n    });\r\n    try {\r\n      const res = await instance.post(\"/messages\", message);\r\n      setMessages([...messages, res.data]);\r\n      setNewMessages(\"\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => \r\n { return  scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });}\r\n  , [messages]);\r\n\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"messenger\">\r\n        <div className=\"chatMenu\">\r\n          <div className=\"chatMenuWrapper\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"\"\r\n              placeholder=\"Search for friends \"\r\n              className=\"chatMenuInput\"\r\n              id=\"\"\r\n            />\r\n            {conversations.map((c) => (\r\n              <div onClick={() => setCurrentChat(c)} key={Math.random()}>\r\n                <Conversation\r\n                  key={Date.now}\r\n                  conversations={c}\r\n                  currentUser={user}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"chatBox\">\r\n          <div className=\"chatBoxWrapper\">\r\n            {currentChat ? (\r\n              <>\r\n                <div className=\"chatBoxTop\">\r\n                  {messages.map((m) => (\r\n                    <div key={Math.random()} ref={scrollRef}>\r\n                      <Message\r\n                        key={Math.random()}\r\n                        message={m}\r\n                        own={m.sender === user._id}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"chatBoxBottom\">\r\n                  <textarea\r\n                    placeholder=\"write something .....\"\r\n                    id=\"\"\r\n                    className=\"chatMessageInput\"\r\n                    onChange={(e) => setNewMessages(e.target.value)}\r\n                    value={newMessages}\r\n                  ></textarea>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"chatSubmitButton\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    {\" \"}\r\n                    send\r\n                  </button>\r\n                </div>{\" \"}\r\n              </>\r\n            ) : (\r\n              <span className=\"noConversationText \">\r\n                Open a conversation to start a chant .\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"chatOnline\">\r\n          <div className=\"chatOnlineWrapper\">\r\n            <ChatOnline \r\n            onlineUsers={onlineUsers}\r\n             currentId={user._id} \r\n            setCurrentChat={setCurrentChat} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\pages\\login\\Login.jsx",["111"],"\r\nimport React,{ useContext, useRef } from \"react\";\r\nimport \"./login.css\";\r\nimport { loginCall } from \"../../ApiCalls\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nexport default function Login() {\r\n  const email = useRef();\r\n  const password = useRef();\r\n  const {user, isFetching, dispatch } = useContext(AuthContext);\r\n \r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    loginCall(\r\n      { email: email.current.value, password: password.current.value },\r\n      dispatch\r\n    );\r\n  };\r\n\r\n   \r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWrapper\">\r\n        <div className=\"loginLeft\">\r\n          <h4 className=\"loginLogo\">Odian</h4>\r\n          <span className=\"loginDesc\">\r\n            connect with friends and the world around you on Mo7medSocial\r\n          </span>\r\n        </div>\r\n        <div className=\"loginRight\">\r\n          <form className=\"loginBox\" onSubmit={handleClick}>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              className=\"loginInput\"\r\n              ref={email}\r\n              required\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              className=\"loginInput\"\r\n              ref={password}\r\n              minLength=\"6\"\r\n              required\r\n            />\r\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\r\n              {isFetching ?( <CircularProgress color=\"white\" size=\"20px\"/>):(\"Log In\")}</button>\r\n            <span className=\"loginForgot\">Forgot Password?</span>\r\n            <button className=\"loginRegisterButton\">\r\n             \r\n              {isFetching ?( <CircularProgress color=\"white\" size=\"20px\"/>):(\" Create a New Account\")}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\pages\\profile\\Profile.jsx",["112","113"],"import React,{ useEffect, useState } from \"react\";\r\nimport \"./profile.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router\";\r\nimport instance from '../../Axios'\r\nexport default function Profile() {\r\n const API =process.env.REACT_APP_APIS_SOCIAL;\r\n\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [user, setUser] = useState({});\r\n  const userName = useParams().username;\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await instance.get(`/users?userName=${userName}`);\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [userName]);\r\n\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"profile\">\r\n        <Sidebar />\r\n        <div className=\"profileRight\">\r\n          <div className=\"profileRightTop\">\r\n            <div className=\"profileCover\">\r\n              <img\r\n                className=\"profileCoverImg\"\r\n                src={\r\n                  user.coverPicture\r\n                    ? PF + user.coverPicture\r\n                    : PF + \"person/noCover.png\"\r\n                }\r\n                alt=\"\"\r\n              />\r\n              <img\r\n                className=\"profileUserImg\"\r\n                src={\r\n                  user.profilePicture\r\n                    ? PF + user.profilePicture\r\n                    : PF + \"person/noAvatar.png\"\r\n                }\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <div className=\"profileInfo\">\r\n              <h4 className=\"profileInfoName\">{user.userName}</h4>\r\n              <span className=\"profileInfoDesc\">{user.desc}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"profileRightBottom\">\r\n            <Feed userName={userName} />\r\n            <Rightbar user={user} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\pages\\register\\Register.jsx",["114","115"],"import React,{ useRef } from 'react';\r\nimport \"./register.css\";\r\nimport axios from 'axios';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport instance from '../../Axios'\r\nexport default function Register() {\r\n  const userName = useRef();\r\n  const email = useRef();\r\n  const password = useRef();\r\n  const passwordAgain = useRef();\r\n  const navigate = useNavigate();\r\n  const API = process.env.REACT_APP_APIS_SOCIAL;\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n   if( passwordAgain.current.value !== password.current.value )\r\n   {console.log(passwordAgain.current.value,\"__\\n__\",password.current.value )\r\n     password.current.setCustomValidity(\"Passwords don't match! \")\r\n   }else{\r\n     const user ={\r\n      userName:userName.current.value,\r\n      email:email.current.value,\r\n      password :password.current.value,\r\n\r\n     }\r\n\r\n     try {\r\n      \r\n       await instance.post(\"/auth/register\", user);\r\n\r\n       navigate('/login');\r\n     } catch (err) {\r\n       console.log(err)\r\n     }\r\n   }\r\n\r\n  };\r\n  const handleClickToNavigate = async()=>{\r\n    navigate('/login');\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWrapper\">\r\n          <div className=\"loginLeft\">\r\n          <h4 className=\"loginLogo\">\r\n          Odian\r\n          </h4>\r\n          <span className=\"loginDesc\">\r\n            connect with friends and the world around you on Mo7medSocial\r\n          </span>\r\n          </div>\r\n          <div className=\"loginRight\">  <div className=\"loginBox\">\r\n            <form className=\"loginBox\" onSubmit={handleClick}>\r\n              <input  required type=\"text\" placeholder=\"UserName\" ref={userName} className=\"loginInput\" />\r\n              <input  required type=\"email\" placeholder=\"Email\" ref={email} className=\"loginInput\" />\r\n              <input  required type=\"password\" placeholder=\"Password\" ref={password} className=\"loginInput\" />\r\n              <input  required type=\"password\" placeholder=\"Password Again\" ref={passwordAgain} className=\"loginInput\" />\r\n              \r\n              \r\n              <button className=\"loginButton\" type=\"submit\">Sign Up</button>\r\n              \r\n            </form>\r\n          \r\n              <button className=\"loginRegisterButton\" onClick={handleClickToNavigate}>Log into Account</button>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\ApiCalls.js",["116","117"],"\r\nimport axios from \"axios\";\r\nimport instance from './Axios'\r\n\r\nconst API =process.env.REACT_APP_APIS_SOCIAL;\r\nexport const loginCall = async (userCredential, dispatch) => {\r\n  dispatch({ type: \"LOGIN_START\" });\r\n  try {\r\n \r\n    const res = await instance.post(\"/auth/login\", userCredential);\r\n    \r\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\r\n  } catch (err) {\r\n    dispatch({ type: \"LOGIN_FAILURE\", payload: err });\r\n  }\r\n};","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\sidebar\\Sidebar.jsx",[],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\conversations\\Conversation.jsx",["118","119"],"import React,{ useState, useEffect } from 'react';\r\nimport './conversation.css'\r\nimport  axios  from 'axios';\r\nimport instance from '../../Axios';\r\nexport default function Conversation({conversations,currentUser}) {\r\n const PF =process.env.REACT_APP_PUBLIC_FOLDER;\r\n const API =process.env.REACT_APP_APIS_SOCIAL;\r\n\r\n\r\n  const [user,setUser]= useState(null);\r\n  useEffect(()=>{\r\n    const friendId=conversations.members.find((m)=>m !== currentUser._id);\r\n    const getUser=async ()=>{\r\n      try {\r\n        const res=await instance.get(\"/users?userId=\"+friendId);\r\n        setUser(res.data)\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    };\r\n    getUser()\r\n  },[currentUser,conversations])\r\n\r\n  return (\r\n    <div className='conversation'>\r\n        <img src={user?.profilePicture? PF+user.profilePicture : PF+\"person/noAvatar.png\"} alt=\"\" className=\"conversationImg\" />\r\n        <span className=\"conversationName\">{user?.userName}</span>\r\n    </div>\r\n  )\r\n}\r\n","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\messages\\Message.jsx",[],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\rightbar\\Rightbar.jsx",["120","121"],"import React,{ useContext, useEffect, useState } from \"react\";\r\nimport \"./rightbar.css\";\r\nimport { Users } from \"../../dummyData\";\r\nimport Online from \"../online/Online\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Add, Remove } from \"@mui/icons-material\";\r\nimport instance from '../../Axios';\r\nexport default function Rightbar({ user }) {\r\n const API =process.env.REACT_APP_APIS_SOCIAL;\r\n\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [friends, setFriends] = useState([]);\r\n  const { user: currentUser, dispatch } = useContext(AuthContext);\r\n  const [followed, setFollowed] = useState(currentUser.followings.includes(user?.id));\r\nconsole.log(user)\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      try {\r\n       \r\n        const friendList = await instance.get(\"/users/friends/\" + user?._id);\r\n        setFriends(friendList.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getFriends();\r\n  }, [user]);\r\n\r\n  const handleClick = async () => {\r\n    try {\r\n      if (followed) {\r\n        await instance.put(`/users/${user._id}/unfollow`, {\r\n          userId: currentUser._id,\r\n        });\r\n        dispatch({ type: \"UNFOLLOW\", payload: user._id });\r\n      } else {\r\n        await instance.put(`/users/${user._id}/follow`, {\r\n          userId: currentUser._id,\r\n        });\r\n        dispatch({ type: \"FOLLOW\", payload: user._id });\r\n      }\r\n      setFollowed(!followed);\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  const HomeRightbar = () => {\r\n    return (\r\n      <>\r\n        <div className=\"birthdayContainer\">\r\n          <img className=\"birthdayImg\" src=\"assets/gift.png\" alt=\"\" />\r\n          <span className=\"birthdayText\">\r\n            <b>Pola Foster</b> and <b>3 other friends</b> have a birhday today.\r\n          </span>\r\n        </div>\r\n        <img className=\"rightbarAd\" src=\"assets/ad.png\" alt=\"\" />\r\n        <h4 className=\"rightbarTitle\">Online Friends</h4>\r\n        <ul className=\"rightbarFriendList\">\r\n          {Users.map((u) => (\r\n            <Online key={u.id} user={u} />\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const ProfileRightbar = () => {\r\n    return (\r\n      <>\r\n        {user.userName !== currentUser.userName && (\r\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\r\n            {followed ? \"Unfollow\" : \"Follow\"}\r\n            {followed ? <Remove /> : <Add />}\r\n          </button>\r\n        )}\r\n        <h4 className=\"rightbarTitle\">User information</h4>\r\n        <div className=\"rightbarInfo\">\r\n          <div className=\"rightbarInfoItem\">\r\n            <span className=\"rightbarInfoKey\">City:</span>\r\n            <span className=\"rightbarInfoValue\">{user.city}</span>\r\n          </div>\r\n          <div className=\"rightbarInfoItem\">\r\n            <span className=\"rightbarInfoKey\">From:</span>\r\n            <span className=\"rightbarInfoValue\">{user.from}</span>\r\n          </div>\r\n          <div className=\"rightbarInfoItem\">\r\n            <span className=\"rightbarInfoKey\">Relationship:</span>\r\n            <span className=\"rightbarInfoValue\">\r\n              {user.relationship === 1\r\n                ? \"Single\"\r\n                : user.relationship === 1\r\n                ? \"Married\"\r\n                : \"-\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <h4 className=\"rightbarTitle\">User friends</h4>\r\n        <div className=\"rightbarFollowings\">\r\n          {friends.map((friend) => (\r\n            <Link\r\n              to={\"/profile/\" + friend.userName}\r\n              style={{ textDecoration: \"none\" }}\r\n            >\r\n              <div className=\"rightbarFollowing\">\r\n                <img\r\n                  src={\r\n                    friend.profilePicture\r\n                      ? PF + friend.profilePicture\r\n                      : PF + \"person/noAvatar.png\"\r\n                  }\r\n                  alt=\"\"\r\n                  className=\"rightbarFollowingImg\"\r\n                />\r\n                <span className=\"rightbarFollowingName\">{friend.userName}</span>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"rightbar\">\r\n      <div className=\"rightbarWrapper\">\r\n        {user ? <ProfileRightbar /> : <HomeRightbar />}\r\n      </div>\r\n    </div>\r\n  );\r\n}","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\chatOnline\\ChatOnline.jsx",["122","123","124","125"],"import React,{ useState, useEffect } from \"react\";\r\nimport \"./chatOnline.css\";\r\nimport axios from \"axios\";\r\nimport instance from '../../Axios'\r\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const API =process.env.REACT_APP_APIS_SOCIAL;\r\n\r\n  const [friends, setFriends] = useState([]);\r\n  const [onlineFriends, setOnlineFriends] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      const res = await instance.get(\"/users/friends/\" + currentId);\r\n      setFriends(res.data);\r\n    };\r\n    getFriends();\r\n  }, [currentId]);\r\n  useEffect(() => {\r\n    setOnlineFriends(friends?.filter((f) => onlineUsers?.includes(f._id)));\r\n  }, [friends, onlineUsers]);\r\n\r\n\r\n  const handleClick =async(user)=>{\r\n      try {\r\n          const  res=await instance.get(`/conversations/find/${currentId}/${user._id}`)\r\n          setCurrentChat( res.data)\r\n      } catch (err) {\r\n          console.log(err);\r\n      }\r\n  }\r\n\r\n  return (\r\n    <div className=\"chatOnline\">\r\n      {onlineUsers?.map((o) => {\r\n        <div\r\n          className=\"chatOnlineFriend\"\r\n          onClick={() => \r\n            handleClick(o)\r\n          }\r\n        >\r\n          <div className=\"chatOnlineImgContainer\">\r\n            <img\r\n              className=\"chatOnlineImg\"\r\n              src={\r\n                o?.profilePicture\r\n                  ? PF + o.profilePicture\r\n                  : o.profilePicture + \"person/noAvatar.png\"\r\n              }\r\n              alt=\"\"\r\n            />\r\n            <div className=\"chatOnlineBadge\"></div>\r\n          </div>\r\n          <div className=\"chatOnlineName\">{o?.userName}</div>\r\n        </div>;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\feed\\Feed.jsx",["126","127"],"import React,{ useEffect, useState, useContext } from 'react';\r\nimport \"./feed.css\";\r\nimport Share from \"./../share/Share\";\r\nimport Post from \"../post/Post\";\r\n\r\n// import {Posts} from \"../../dummyData\";\r\nimport instance from '../../Axios'\r\nimport axios from \"axios\"\r\nimport { AuthContext } from './../../context/AuthContext';\r\n\r\n\r\nexport default function Feed({userName}) {\r\n  const API =process.env.REACT_APP_APIS_SOCIAL;\r\n\r\nconst [posts,setPosts]=useState([]);\r\n\r\nconst {user} =useContext(AuthContext)\r\n\r\nuseEffect(() => {\r\nconst fetchPosts= async()=>{\r\n  const res=  userName ? await instance.get(\"/posts/profile/\"+userName) : \r\n  await instance.get(\"/posts/timeline/\"+user._id); \r\n  setPosts(res.data.sort((p1,p2)=>{\r\n    return new Date(p2.createdAt) - new Date(p1.createdAt);\r\n  }));\r\n\r\n}\r\nfetchPosts();\r\n }, [userName,user._id])\r\n\r\n  return (\r\n    <div className=\"feed\">\r\n      <div className=\"feedWrapper\">\r\n       {(!userName|| userName===user.userName)&& <Share />}\r\n        {posts.map((p)=>(\r\n        <Post  key={p._id} post={p} />\r\n        \r\n        )) }\r\n        \r\n \r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\topbar\\Topbar.jsx",["128"],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\dummyData.js",[],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\closeFriend\\CloseFriend.jsx",[],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\online\\Online.jsx",[],"E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\post\\Post.jsx",["129","130"],"import React,{useState,useEffect, useContext} from \"react\"\r\nimport \"./post.css\";\r\nimport {MoreVert} from '@mui/icons-material'\r\nimport axios from \"axios\"\r\n// import {Users} from \"../../dummyData\"\r\nimport {format} from \"timeago.js\"\r\nimport { Link } from 'react-router-dom';\r\nimport { AuthContext } from './../../context/AuthContext';\r\nimport instance from '../../Axios'\r\nexport default function Post({post}) {\r\n const API =process.env.REACT_APP_APIS_SOCIAL;\r\n  \r\nconst [like,setLike]=useState(post.likes.length)\r\nconst [isLiked,setIsLiked]=useState(false);\r\nconst [user,setUser]=useState({})\r\nconst PF=process.env.REACT_APP_PUBLIC_FOLDER;\r\nconst {user:currentUser}=useContext(AuthContext);\r\n\r\nuseEffect(()=>{\r\n  setIsLiked(post.likes.includes(currentUser._id))\r\n},[currentUser._id,post.likes])\r\n\r\nuseEffect(() => {\r\n  const fetchUser= async()=>{\r\n    const res=await instance.get(`/users/${post.userId}`);\r\n    setUser(res.data);\r\n  \r\n  }\r\n  fetchUser();\r\n   }, [post.userId])\r\n\r\n\r\nconst likeHandler =async()=>{\r\n  try {\r\n   await instance.put(`/posts/${post._id}/like`,{userId:currentUser._id})\r\n  } catch (err) {\r\n    \r\n  }\r\n  setLike(isLiked ? like-1 : like+1)\r\n  setIsLiked(!isLiked)\r\n}\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"postWrapper\">\r\n        <div className=\"postTop\">\r\n          <div className=\"postTopLeft\">\r\n            <Link to={`profile/${ user.userName}`} >\r\n            <img src=  {\r\n             user.profilePicture?  PF+user.profilePicture:PF+\"person/noAvatar.png\"\r\n              } alt=\"\" className=\"postProfileImg\" /></Link>\r\n            <span className=\"postUsername\">\r\n              {\r\n                user.userName\r\n              }\r\n            </span>\r\n            <span className=\"postDate\">{format(post.createdAt)}</span>\r\n\r\n          </div>\r\n          <div className=\"postTopRight\">\r\n            <MoreVert/>\r\n          </div>\r\n        </div>\r\n        <div className=\"postCenter\">\r\n          <span className=\"postText\">\r\n        {post?.desc}\r\n\r\n          </span>\r\n          <img src={PF+post.img} alt=\"\" className=\"postImg\" />\r\n        </div>\r\n        <div className=\"postBottom\">\r\n          <div className=\"postBottomLeft\">\r\n            <img src={`${PF}like.png`} alt=\"\" className=\"likeIcon\" onClick={likeHandler} />\r\n            <img src={`${PF}heart.png`} alt=\"\" className=\"likeIcon\" onClick={likeHandler} />\r\n            <span className=\"postLikeCounter\">{like}people like it</span>\r\n          </div>\r\n          <div className=\"postBottomRight\">\r\n            <span className=\"postCommentText\">\r\n             {post.comment} comments\r\n            </span>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\components\\share\\Share.jsx",["131","132"],"import React,{ useContext, useRef, useState } from 'react';\r\nimport \"./share.css\";\r\nimport { PermMedia, Label, Room, EmojiEmotions, Cancel } from \"@mui/icons-material\";\r\nimport { AuthContext } from './../../context/AuthContext';\r\nimport axios  from 'axios';\r\nimport instance from '../../Axios'\r\nexport default function Share() {\r\n  const {user} = useContext(AuthContext);\r\n  const PF=process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const desc=useRef();\r\n  const [file,setFile]=useState(null)\r\n  const API =process.env.REACT_APP_APIS_SOCIAL;\r\n\r\n  const handleSubmit = async(e)=>{\r\n    e.preventDefault();\r\n    const newPost={\r\n      userId:user._id,\r\n      desc:desc.current.value\r\n    }\r\n    if (file){\r\n      const data=new FormData();\r\n      const fileName=Date.now() + file.name ;\r\n      data.append(\"name\", fileName); \r\n      data.append(\"file\", file);\r\n\r\n      newPost.img=fileName ;\r\n      try {\r\n        await instance.post(\"/upload\",data)\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n    try {\r\n      await instance.post(\"/posts\",newPost);\r\n      window.location.reload(); \r\n    } catch (err) {\r\n      console.log(err);\r\n      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"share\">\r\n      <div className=\"shareWrapper\">\r\n        <div className=\"shareTop\">\r\n          <img src={user.profilePicture?PF+user.profilePicture:PF+\"person/noAvatar.png\"} alt=\"\" className=\"shareProfileImg\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder={\"What's in your mind \" +user.userName +\" ?\" }\r\n            className=\"shareInput\"\r\n            ref={desc}\r\n          />\r\n        </div>\r\n        <hr className=\"shareHr\" />\r\n        {file && (\r\n          <div className=\"shareImgContainer\">\r\n            <img src={URL.createObjectURL(file)} className=\"shareImg\"  alt=\"\" />\r\n            <Cancel className=\"shareCancelImg\"  onClick={()=>setFile(null)} />\r\n          </div>\r\n        )}\r\n        <form className=\"shareBottom\"  onSubmit={handleSubmit}>\r\n          <div className=\"shareOptions\">\r\n            <label htmlFor=\"file\" className=\"shareOption\">\r\n              <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Photo or video</span>\r\n              <input style={{display:\"none\"}} type=\"file\"  id=\"file\" accept=\".png,.jpeg,.jpg\" onChange={(e)=>setFile(e.target.files[0])}/>\r\n            </label>\r\n            <div className=\"shareOption\">\r\n              <Label htmlColor=\"blue\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Tag</span>\r\n            </div>\r\n            <div className=\"shareOption\">\r\n              <Room htmlColor=\"green\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Location</span>\r\n            </div>\r\n            <div className=\"shareOption\">\r\n              <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Feeling</span>\r\n            </div>\r\n          </div>\r\n          <button className=\"shareButton\" type=\"submit\">Share</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","E:\\mo7med projectes\\front socialMedia\\front 1\\client\\src\\Axios.js",[],{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","replacedBy":"136"},{"ruleId":"137","severity":1,"message":"138","line":8,"column":8,"nodeType":"139","messageId":"140","endLine":8,"endColumn":13},{"ruleId":"137","severity":1,"message":"141","line":12,"column":8,"nodeType":"139","messageId":"140","endLine":12,"endColumn":11},{"ruleId":"142","severity":1,"message":"143","line":43,"column":48,"nodeType":"144","messageId":"145","endLine":43,"endColumn":50},{"ruleId":"137","severity":1,"message":"146","line":11,"column":10,"nodeType":"139","messageId":"140","endLine":11,"endColumn":14},{"ruleId":"137","severity":1,"message":"138","line":7,"column":8,"nodeType":"139","messageId":"140","endLine":7,"endColumn":13},{"ruleId":"137","severity":1,"message":"141","line":11,"column":8,"nodeType":"139","messageId":"140","endLine":11,"endColumn":11},{"ruleId":"137","severity":1,"message":"138","line":3,"column":8,"nodeType":"139","messageId":"140","endLine":3,"endColumn":13},{"ruleId":"137","severity":1,"message":"141","line":12,"column":9,"nodeType":"139","messageId":"140","endLine":12,"endColumn":12},{"ruleId":"137","severity":1,"message":"138","line":2,"column":8,"nodeType":"139","messageId":"140","endLine":2,"endColumn":13},{"ruleId":"137","severity":1,"message":"141","line":5,"column":7,"nodeType":"139","messageId":"140","endLine":5,"endColumn":10},{"ruleId":"137","severity":1,"message":"138","line":3,"column":9,"nodeType":"139","messageId":"140","endLine":3,"endColumn":14},{"ruleId":"137","severity":1,"message":"141","line":7,"column":8,"nodeType":"139","messageId":"140","endLine":7,"endColumn":11},{"ruleId":"137","severity":1,"message":"138","line":5,"column":8,"nodeType":"139","messageId":"140","endLine":5,"endColumn":13},{"ruleId":"137","severity":1,"message":"141","line":11,"column":8,"nodeType":"139","messageId":"140","endLine":11,"endColumn":11},{"ruleId":"137","severity":1,"message":"138","line":3,"column":8,"nodeType":"139","messageId":"140","endLine":3,"endColumn":13},{"ruleId":"137","severity":1,"message":"141","line":7,"column":9,"nodeType":"139","messageId":"140","endLine":7,"endColumn":12},{"ruleId":"137","severity":1,"message":"147","line":10,"column":10,"nodeType":"139","messageId":"140","endLine":10,"endColumn":23},{"ruleId":"142","severity":1,"message":"148","line":35,"column":29,"nodeType":"144","messageId":"145","endLine":35,"endColumn":31},{"ruleId":"137","severity":1,"message":"138","line":8,"column":8,"nodeType":"139","messageId":"140","endLine":8,"endColumn":13},{"ruleId":"137","severity":1,"message":"141","line":13,"column":9,"nodeType":"139","messageId":"140","endLine":13,"endColumn":12},{"ruleId":"149","severity":1,"message":"150","line":50,"column":9,"nodeType":"151","endLine":51,"endColumn":55},{"ruleId":"137","severity":1,"message":"138","line":4,"column":8,"nodeType":"139","messageId":"140","endLine":4,"endColumn":13},{"ruleId":"137","severity":1,"message":"141","line":11,"column":8,"nodeType":"139","messageId":"140","endLine":11,"endColumn":11},{"ruleId":"137","severity":1,"message":"138","line":5,"column":8,"nodeType":"139","messageId":"140","endLine":5,"endColumn":13},{"ruleId":"137","severity":1,"message":"141","line":12,"column":9,"nodeType":"139","messageId":"140","endLine":12,"endColumn":12},"no-native-reassign",["152"],"no-negated-in-lhs",["153"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","'API' is assigned a value but never used.","array-callback-return","Array.prototype.filter() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'user' is assigned a value but never used.","'onlineFriends' is assigned a value but never used.","Array.prototype.map() expects a return value from arrow function.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You donâ€™t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]